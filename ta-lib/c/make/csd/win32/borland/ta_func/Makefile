his.m_iFrame.contentWindow.VoiceChatControlsRoot)return this.m_iFrame.contentWindow.VoiceChatControlsRoot({})}RenderRemotePlayTogetherControls(){if(this.m_iFrame.contentWindow.RemotePlayTogetherControlsRoot)return this.m_iFrame.contentWindow.RemotePlayTogetherControlsRoot({})}RenderFriendsVoiceChatHeader(e){if(this.m_iFrame.contentWindow.VoiceChatHeaderRoot)return this.m_iFrame.contentWindow.VoiceChatHeaderRoot(e)}RenderFriendsUnreadChatMessagesHeader(e){if(this.m_iFrame.contentWindow.UnreadChatMessagesHeaderRoot)return this.m_iFrame.contentWindow.UnreadChatMessagesHeaderRoot(e)}}Object(a.b)([o.C],y.prototype,"m_bStartupFinished",void 0),Object(a.b)([o.C],y.prototype,"m_eLoadingState",void 0),Object(a.b)([o.C],y.prototype,"m_voiceChatStatus",void 0),Object(a.b)([o.C],y.prototype,"m_currentUserVoiceLevel",void 0),Object(a.b)([o.k.bound],y.prototype,"OnMessage",null),Object(a.b)([g.b],y.prototype,"TrackEmoticonUsage",null),Object(a.b)([g.b],y.prototype,"TrackStickerUsage",null),Object(a.b)([g.b],y.prototype,"OnPendingOneOnOneVoiceChatRequests",null),Object(a.b)([g.b],y.prototype,"OnCurrentUserVoiceLevelChanged",null),Object(a.b)([g.b],y.prototype,"HandleFriendsUIMessages",null),Object(a.b)([g.b],y.prototype,"OnStartupFinished",null),Object(a.b)([g.b],y.prototype,"OnVoiceChatStatusChanged",null);class f{constructor(){this.m_CSSLoadState="unloaded",this.m_callbacksCSSReady=new p.a}AddRequiredStylesheets(e,t){if(Object(m.a)(t,"Frame not loaded!"),"unloaded"==this.m_CSSLoadState&&t){this.m_CSSLoadState="loading",console.log(`Loading CSS for document ${e.title}`);let r=t.contentDocument,n=r.querySelector("head");Object(m.a)(n,"Couldn't find head element");let a=[];if(n){a=h.b(e,h.r(r)),new MutationObserver((()=>{const t=h.r(r);h.x(e,t)})).observe(n,{childList:!0,subtree:!0,attributeFilter:["href"]})}if(Object(m.a)(t.contentWindow.InstrumentWindow,"InstrumentWindow() not available on iframe window"),t.contentWindow.InstrumentWindow&&t.contentWindow.InstrumentWindow(e.defaultView),a.length){new d.a(e,e.body,a).SetTarget(this.OnCSSLoadComplete)}else this.OnCSSLoadComplete()}}OnCSSLoadComplete(){this.m_CSSLoadState="ready",this.m_callbacksCSSReady.Dispatch(),this.m_callbacksCSSReady.ClearAllCallbacks()}}function v(){return Object(s.d)((()=>B.BShowRemotePlayQuickAccessControls()))}function C(){return Object(s.d)((()=>{let e=B.GetVoiceChatStatus();return!0===(null==e?void 0:e.bVoiceChatActive)}))}function S(){return Object(s.d)((()=>B.BHasPendingOneOnOneVoiceChatRequests()))}function w(){return Object(s.d)((()=>B.GetCurrentUserVoiceLevel()))}Object(a.b)([g.b],f.prototype,"OnCSSLoadComplete",null);const B=new y},ydCM:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("q1tI"),a=(r("BaVA"),r("35HY"),r("rHSA")),i=r("YyVH"),o=r("qFJY"),s=r("av+R"),l=(r("NxAk"),r("hJxo")),c=r("bDQf"),d=r("TLQK");const u=new c.a("AppGridFastScroll").Debug;var m;function p(e){const t=e[0].toLowerCase();return t<"a"?"#":t}function h(e,t,r,n){let a,i="",o=!1;const s=e.children[t],l=(e,t)=>{if(e<="a"&&t==m.Up)return"#";if(e<"a"&&t==m.Down)return"a";const r=String.fromCharCode(e.charCodeAt(0)+t);return r<"a"||r>"z"?e:r},c=p(s.sort_as);let d,u;do{if(d=u,u=l(u||c,r),d==u)break;a=e.children.findIndex((e=>{return t=e.sort_as,("#"==(r=u)?t[0]<"a":(null===(a=t[0])||void 0===a?void 0:a.toLowerCase())==r)&&(!n||n(e));var t,r,a}))}while(-1==a);return-1!=a&&u!=c||(o=!0),i=u,{nextItem:a,nextTargetName:i,bFinished:o}}function g(e,t,r){let n,a="",o=!1;const s=e.children[t].GetAchievementPercentage();let l,c;do{if(l=c,c=Object(i.a)((null!=c?c:s)-r,-1,100),l==c)break;n=e.children.findIndex((e=>e.GetAchievementPercentage()==c))}while(-1==n);return-1!=n&&s!=c||(o=!0),a=-1==c?Object(d.g)("#Library_SortByPctAchievementsNoAchievements_Tag"):Object(d.g)("#Library_SortByPctAchievementsComplete_Tag",c),{nextItem:n,nextTargetName:a,bFinished:o}}function _(e,t,r){let n,a="",s=!1;const l=e.children[t],c=o.a.GetInGameMap(),u=Array.from(c.values()).reduce(((e,t)=>Math.max(e,t.length)),0),m=e=>0==e.GetFriendsPlaying(),g=l.GetFriendsPlaying();if(0==g){const n=h(e,t,r,m);if(!n.bFinished)return n}let _,b;do{if(_=b,b=Object(i.a)((null!=b?b:g)-r,0,u),_==b)break;n=e.children.findIndex((e=>e.GetFriendsPlaying()==b))}while(-1==n);return-1!=n&&b!=g||(s=!0),a=0==b&&0!=g?p(e.children[n].sort_as):Object(d.o)("#AppPortraitHover_FriendsPlaying",b),{nextItem:n,nextTargetName:a,bFinished:s}}function b(e,t,r){const o=n.useRef(),c=n.useRef(),d=n.useRef(new Map),[p,b]=n.useState(""),y=n.useRef(Object(s.a)());n.useEffect((()=>{o.current=void 0,c.current=void 0}),[t]);const f=n.useCallback(((t,r)=>e[t].children[r]),[e]),v=n.useCallback((()=>{const t=o.current,r=c.current,n=d.current.get(t+"_"+r);n?(u("Focusing",t,r,e[t].children[r].display_name,n),n.TakeFocus()):u(t,r,"not ready for focus yet")}),[e]),C=n.useCallback((e=>{e||(o.current=void 0,c.current=void 0)}),[]),S=n.useRef(),w=n.useCallback((()=>void 0!==S.current),[]),B=n.useCallback(((e,t,r)=>{r?d.current.set(e+"_"+t,r):d.current.delete(e+"_"+t),w()||e!=o.current||t!=c.current||!r||r.BHasFocus()||(u("Bound focused item, taking focus",e,t,r),v())}),[v,w]),O=n.useCallback(((t,n)=>{var a;if(w())return!0;u("Focus placeholder",y.current.current),null===(a=y.current.current)||void 0===a||a.TakeFocus(),t=Object(i.a)(t,0,e.length);const s=e[t];n=Object(i.a)(n,0,s.children.length-1);let d=s.refSection.current.offsetTop;const m=Math.floor(n/s.refItemsPerRow.current);d+=m*(s.childHeight+s.nGridRowGap);const p=window.getComputedStyle(r),h=parseInt(p.getPropertyValue("scroll-padding-top"))||0;return d=d-h+8,new Promise(((e,a)=>{const i={msDuration:350,timing:"cubic-in-out",onComplete:()=>{o.current=t,c.current=n,u("Scrolled to",r.scrollTop),S.current=void 0,e()}};S.current=new l.c(r,{scrollTop:d},i),S.current.Start()}))}),[w,e,r]),E=n.useCallback((r=>{if(w())return!0;let n,a,s;if(1==e.length){let i;if(1==t)i=h;else if(2==t)i=g;else{if(10!=t)return!1;i=_}const o=i(e[0],c.current,r);if(o.bFinished)return!0;n=o.nextItem,a=0,s=o.nextTargetName}else if(e.length>1){const t=Object(i.a)(o.current+r,0,e.length-1);if(u("Move from",o.current,"to",t),o.current==t)return!0;a=t,n=0,s=e[t].subSectionName}return u("Scroll to",n,f(0,n).display_name),b(s),O(a,n)}),[w,f,O,e,t]),A=n.useRef(0);return{onItemFocused:(e,t)=>{u("Focused",e,t,f(e,t).display_name),o.current=e,c.current=t},onGamepadButtonDown:n.useCallback((e=>{var t;if(e.detail.button==a.a.TRIGGER_LEFT||e.detail.button==a.a.TRIGGER_RIGHT){u(o.current,c.current,null===(t=f(o.current,c.current))||void 0===t?void 0:t.display_name);const r=e.detail.button==a.a.TRIGGER_RIGHT?m.Down:m.Up,n=E(r);return!1!==n&&(e.stopPropagation(),e.preventDefault(),!0!==n&&n.then((()=>{u("Fast scroll complete, taking focus"),v(),b("")})),!0)}if((e.detail.button==a.a.DIR_UP||e.detail.button==a.a.DIR_DOWN)&&(e.detail.is_repeat&&A.current++,A.current>=5)){let t;e.detail.button==a.a.DIR_DOWN?(u("Fast scroll down"),t=m.Down):(u("Fast scroll up"),t=m.Up);const r=E(t);return!1!==r&&(e.stopPropagation(),e.preventDefault(),!0!==r&&r.then((()=>{u("Fast scroll complete, repeats",A.current),A.current<5&&(u("Fast scroll complete, taking focus"),v(),b(""))})),!0)}return!1}),[E,f,v]),onGamepadButtonUp:n.useCallback((e=>{u(e.detail.button,A.current),e.detail.button!=a.a.DIR_UP&&e.detail.button!=a.a.DIR_DOWN||A.current>4&&(u("Exiting fast scroll"),void 0===S.current&&v(),b("")),A.current=0}),[v]),onFocusWithin:C,scrollIntoViewHandler:w,strFastScrollTo:p,bindNavRef:B,navRefPlaceholder:y}}!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(m||(m={}))},yldQ:function(e,t,r){e.exports={Container:"greatondeckgriddisplay_Container_2wxsD",FullRow:"greatondeckgriddisplay_FullRow_beKrp",HalfRowContainer:"greatondeckgriddisplay_HalfRowContainer_1DRJk",HalfRow:"greatondeckgriddisplay_HalfRow_2U4gt",LinkContainer:"greatondeckgriddisplay_LinkContainer_2RYrj",Link:"greatondeckgriddisplay_Link_1n-VP",CompatIconOverride:"greatondeckgriddisplay_CompatIconOverride_2oG3g"}},ylkE:function(e,t,r){"use strict";r.d(t,"a",(function(){return le})),r.d(t,"b",(function(){return ce}));var n=r("mrSG"),a=r("q1tI"),i=r.n(a),o=r("TyAF"),s=(r("3+zv"),r("lkRc")),l=r("TLQK"),c=(r("6oCP"),r("opsS")),d=r("fpVW"),u=r.n(d),m=r("ka0M"),p=r("X3Ds"),h=r("exH9"),g=r("f26i"),_=r.n(g),b=r("Jqb/"),y=r("vDqi"),f=r.n(y),v=r("ZeAL"),C=(r("mgoM"),r("bxBv")),S=r("qD+2"),w=r("kLLr"),B=r("oFam"),O=(r("wUwH"),r("Qcoi")),E=r("4P4B"),A=r("mB/g"),I=r("OS6B"),T=r("0OaU"),k=r("TOXn"),R=r("fkaw"),D=r.n(R);const j=Object(o.a)((e=>{const{eventModel:t}=e,r=a.useRef(null),[i,o]=Object(O.b)(s.g.steamid),[c,d]=a.useState(""),[m,p]=a.useState(!1),[g,_]=a.useState(""),[y,R]=a.useState(!1);a.useEffect((()=>()=>r.current&&r.current("ShareEventOnFriendsActivityFeed: unmounting")),[]);const j=o?o.avatar_url:null,M=Object(A.h)(t),N=w.a.InitFromAccountID(s.g.accountid),L=()=>Object(n.a)(void 0,void 0,void 0,(function*(){var e,n;r.current&&r.current("ShareEventOnFriendsActivityFeed: cancel previous...");const a=f.a.CancelToken.source();r.current=a.cancel,p(!0);let i=c;0!=i.trim().length&&(i+="\n\n"),i+=M;const o=s.c.COMMUNITY_BASE_URL+"profiles/"+N.ConvertTo64BitString()+"/ajaxpostuserstatus";try{if(s.c.IN_LIBRARY){let e=C.b.Init(B.n);e.Body().set_appid(t.appid),e.Body().set_status_text(i);let r=yield B.s.PostStatusToFriends(S.a.CMInterface.GetServiceTransport(),e);if(1!=r.GetEResult()){const e=Object(l.g)("#EventDisplay_Share_Failure")+"\n\n"+r.GetEResult();return console.error(e,!a.token.reason),void(a.token.reason||_(e))}}else{const r=new FormData;r.append("appid",""+t.appid),r.append("status_text",i),r.append("sessionid",s.c.SESSIONID),r.append("authwgtoken",s.g.authwgtoken);const c=yield f.a.post(o,r,{withCredentials:!0});if(200!=c.status||1!=(null===(e=null==c?void 0:c.data)||void 0===e?void 0:e.success)){const e=Object(l.g)("#EventDisplay_Share_Failure")+"\n\n"+(null===(n=null==c?void 0:c.data)||void 0===n?void 0:n.message);return console.error(e),void(a.token.reason||_(e))}}a.token.reason||(R(!0),_(Object(l.g)("#EventDisplay_Share_Success")))}catch(e){const t=Object(I.a)(e),r=Object(l.g)("#EventDisplay_Share_Failure")+"\n\n"+t.strErrorMsg;a.token.reason||_(r),console.error(r)}}));return m?a.createElement(b.e,{strDescription:"",strTitle:Object(l.g)("#Button_Share"),onCancel:e.closeModal,onOK:e.closeModal,bAlertDialog:!0},a.createElement("div",{className:u.a.FlexColumnContainer},a.createElement("div",null,Object(l.g)("#EventDisplay_Share_OnMyStatus_Details")),a.createElement("div",{className:D.a.Container},0==(null==g?void 0:g.length)?a.createElement(T.a,{position:"center"}):a.createElement("div",null,g),Boolean(y)&&a.createElement("a",{href:s.c.COMMUNITY_BASE_URL+"profiles/"+N.ConvertTo64BitString()+"/home",target:s.c.IN_CLIENT?void 0:"_blank"},Object(l.g)("#EventDisplay_Share_OpenActivityFeed"))))):a.createElement(b.e,{strDescription:"",strTitle:Object(l.g)("#Button_Share"),onCancel:e.closeModal,onOK:L,strOKButtonText:Object(l.g)("#Button_Post")},a.createElement("div",{className:u.a.FlexColumnContainer},a.createElement("div",null,Object(l.g)("#EventDisplay_Share_OnMyStatus_Details")),a.createElement("div",{className:Object(h.a)(D.a.Container,u.a.FlexColumnContainer)},a.createElement("div",null,a.createElement("img",{className:D.a.SmallAvatar,src:j,"data-miniprofile":"s"+s.g.steamid}),a.createElement("div",{className:Object(h.a)(u.a.FlexColumnContainer)},a.createElement(E.a,{strPlaceholder:Object(l.g)("#EventDisplay_Share_OnMyStatus_Placeholder"),fnGetCurText:()=>c,fnOnTextChange:e=>d(e.currentTarget.value),fnSetText:d,emoticonStore:e.emoticonStore,bSupportHTMLImport:!1,showFormatHelp:"UserStatusPublished",limitBBCode:v.g,classNameForTextArea:D.a.ShareDescription,bEmbeddedInDialog:!0}))),a.createElement("div",null,a.createElement(k.a,{text:M,partnerEventStore:e.partnerEventStore})))))}));var M=r("YyVH"),N=r("9w6b"),L=r("6Y59"),F=r("7u3m"),G=r.n(F),P=r("yNwp"),x=r.n(P),z=r("D4G2"),U=r.n(z),H=r("goqe"),W=r.n(H),V=r("Pr9M"),K=r.n(V),q=r("BFsE"),Q=r("/PpB"),Z=r("TQGK"),Y=r("65aj"),J=r("+d9t"),X=r("5E+2"),$=r("IzPI"),ee=r("2vnA");r("AiWL");class te{constructor(){this.m_mapClanReposted=new Set,this.m_mapSourceEventGIDToPostedClans=new Map}static Get(){return te.s_EventRepost||(te.s_EventRepost=new te,te.s_EventRepost.Initialize()),te.s_EventRepost}static ValidateRepostData(e){const t=e;return!!(t&&t.repost_clan_account_ids&&Array.isArray(t.repost_clan_account_ids)&&t.repost_clan_account_ids.length>0)&&"number"==typeof t.repost_clan_account_ids[0]}Initialize(){if(document.getElementById("application_config")){let e=Object(s.f)("repostcontrols","application_config");te.ValidateRepostData(e)&&e.repost_clan_account_ids.forEach((e=>this.m_mapClanReposted.add(e)))}}BCanRepostPartnerEvent(){return this.m_mapClanReposted.size>0}GetRepostClanAccountID(){return Array.from(this.m_mapClanReposted)}LoadClansAlreadyRepostedTo(e,t,r){var a,i,o;return Object(n.a)(this,void 0,void 0,(function*(){if(this.m_mapSourceEventGIDToPostedClans.has(t))return this.m_mapSourceEventGIDToPostedClans.get(t);const n=s.c.STORE_BASE_URL+"events/ajaxgetrepostedevent",l={sessionid:s.c.SESSIONID,source_clan_accountid:e.GetAccountID(),source_event_gid:t};try{const e=yield f.a.get(n,{params:l,withCredentials:!0,cancelToken:null==r?void 0:r.token});if(1==(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.success))return this.m_mapSourceEventGIDToPostedClans.set(t,e.data.repost_clan_accountid||[]),e.data.repost_clan_accountid;console.error("GetRepostClanAccountID: failed "+(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.success)+" and msg: "+(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.msg))}catch(e){const t=Object(I.a)(e);console.error("GetRepostClanAccountID: fail repost with "+t.strErrorMsg,t)}return new Array}))}RepostEvent(e,t,r,a,i){var o,l,c;return Object(n.a)(this,void 0,void 0,(function*(){const n=s.c.STORE_BASE_URL+"events/ajaxrepostevent",d=new FormData;d.append("sessionid",s.c.SESSIONID),d.append("source_clan_accountid",""+e.GetAccountID()),d.append("source_event_gid",""+t),d.append("repost_clan_accountid",""+r.GetAccountID()),d.append("add",""+a);try{let e=yield f.a.post(n,d,{withCredentials:!0,cancelToken:null==i?void 0:i.token});if(1==(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.success)&&e.data.repost_gid){this.m_mapSourceEventGIDToPostedClans.has(t)||this.m_mapSourceEventGIDToPostedClans.set(t,[]);const n=this.m_mapSourceEventGIDToPostedClans.get(t).findIndex((e=>r.GetAccountID()==e));return a&&-1==n?this.m_mapSourceEventGIDToPostedClans.get(t).push(r.GetAccountID()):a||-1===n||this.m_mapSourceEventGIDToPostedClans.get(t).splice(n,1),e.data.repost_gid}console.error("RepostEvent: failed "+(null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.success)+" and msg: "+(null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.msg))}catch(e){const t=Object(I.a)(e);console.error("RepostEvent: fail repost with "+t.strErrorMsg,t)}return null}))}}Object(n.b)([ee.C],te.prototype,"m_mapClanReposted",void 0);var re=r("Mgs7"),ne=r("IjL/");const ae=Object(o.a)((e=>{const{eventModel:t}=e,[r,o]=Object(a.useState)(!0),[s,c]=Object(a.useState)(new Set),[d,u]=Object(a.useState)(new Set),[m,p]=Object(a.useState)(new Set),[h,g]=Object(a.useState)(null),[_,y]=Object(a.useState)(null),v=Object(a.useRef)(null);Object(a.useEffect)((()=>{if(r){(()=>Object(n.a)(void 0,void 0,void 0,(function*(){const e=f.a.CancelToken.source();v.current=e.cancel;const r=te.Get().LoadClansAlreadyRepostedTo(t.clanSteamID,t.GID,e);r.then((e=>{const t=new Set;e.forEach((e=>t.add(e))),c(t)}));let n=new Array;n.push(r),te.Get().GetRepostClanAccountID().forEach((e=>{const t=w.a.InitFromClanID(e);n.push(Z.a.LoadClanInfoForClanSteamID(t))})),yield Promise.all(n),o(!1)})))()}return()=>v.current&&v.current()}),[r,t.GID,t.clanSteamID]);const C=new Array;return te.Get().GetRepostClanAccountID().forEach((e=>{const r=Z.a.GetClanInfoByClanAccountID(e);if(r&&e!=t.clanSteamID.GetAccountID()){const t=s.has(e),n=d.has(e)||t&&!m.has(e);C.push(i.a.createElement(re.o,{key:"checkbox"+e,label:t?Object(l.g)("#EventRepost_Dialog_Existing",r.group_name):r.group_name,checked:n,disabled:null!==h,onChange:t=>{s.has(e)?(t?m.delete(e):m.add(e),p(new Set(m))):(t?d.add(e):d.delete(e),u(new Set(d)))}}))}})),i.a.createElement(ne.a,null,i.a.createElement(b.i,{onEscKeypress:()=>e.closeModal&&e.closeModal()},i.a.createElement(re.q,null,i.a.createElement(re.P,null,Object(l.g)("#EventRepost_Dialog_Title")),i.a.createElement(re.i,null,i.a.createElement(re.k,null,Object(l.g)("#EventRepost_Dialog_Desc")),r?i.a.createElement(T.a,{string:Object(l.g)("#Loading")}):i.a.createElement("div",null,C),Boolean(d.size||m.size)&&i.a.createElement("div",null,i.a.createElement("span",null,Object(l.g)("#EventRepost_Dialog_Action_Desc")),i.a.createElement("ul",null,Boolean(d.size)&&i.a.createElement("li",null,Object(l.g)("#EventRepost_Dialog_Action_Add",d.size)),Boolean(m.size)&&i.a.createElement("li",null,Object(l.g)("#EventRepost_Dialog_Action_Remove",m.size)))),Boolean(h)&&i.a.createElement("div",null,h),Boolean(_)&&i.a.createElement("div",null,_)),i.a.createElement(re.F,null,i.a.createElement(re.X,{onCancel:()=>e.closeModal&&e.closeModal(),strOKText:Object(l.g)("#EventRepost_Dialog_OK"),bOKDisabled:0==d.size&&0==m.size||null!==h||null!==_,onOK:()=>Object(n.a)(void 0,void 0,void 0,(function*(){v.current&&v.current();const e=f.a.CancelToken.source();v.current=e.cancel;const r=d.size+m.size;let n=1;g(Object(l.g)("#EventRepost_Dialog_Progress",n,r));for(const a of Array.from(d)){const i=w.a.InitFromClanID(a);if(!(yield te.Get().RepostEvent(t.clanSteamID,t.GID,i,!0,e)))return void y(Object(l.g)("#EventRepost_Dialog_ResultFail"));g(Object(l.g)("#EventRepost_Dialog_Progress",++n,r))}for(const a of Array.from(m)){const i=w.a.InitFromClanID(a);if(!(yield te.Get().RepostEvent(t.clanSteamID,t.GID,i,!1,e)))return void y(Object(l.g)("#EventRepost_Dialog_ResultFail"));g(Object(l.g)("#EventRepost_Dialog_Progress",++n,r))}y(Object(l.g)("#EventRepost_Dialog_ResultSuccess"))}))})))))}));var ie,oe=r("qDk6"),se=r("av+R");function le(e,t){if(!t.BIsUserLoggedIn())return s.c.IN_CLIENT?console.log("EventDiscussionWidget: In Client: Cannot use login widget. We expect to be already logged in."):Object(m.d)(a.createElement(b.e,{strTitle:Object(l.g)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(l.g)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(l.g)("#MobileLogin_SignIn"),onOK:()=>Object(q.a)()}),window),!1;return!t.GetPartnerEventPermissions(e.clanSteamID).limited_user||(Object(m.d)(a.createElement(Q.a,null),window),!1)}let ce=ie=class extends a.Component{constructor(e){super(e),this.m_cancelSignal=f.a.CancelToken.source();const t=N.a.Get().BHasMyVote(e.eventModel);let r;t&&(r=ie.ConvertMyVoteRaw(N.a.Get().GetPreviouslyLoadedVote(e.eventModel))),this.state={bLoadedVote:!!t,myVote:r}}HandleRefreshMyVotingInformation(){return Object(n.a)(this,void 0,void 0,(function*(){const{eventModel:e,partnerEventStore:t}=this.props;N.a.Get().BIsUserLoggedIn()&&(N.a.Get().LoadMyVote(e,this.m_cancelSignal).then((e=>{let t=ie.ConvertMyVoteRaw(e);this.setState({myVote:t,bLoadedVote:!0})})).catch((e=>{let t=Object(I.a)(e);console.error("EventDiscussionWidget = "+t.strErrorMsg)})),Z.a.LoadClanInfoForClanSteamID(e.clanSteamID).catch((e=>{let t=Object(I.a)(e);console.error("EventDiscussionWidget = "+t.strErrorMsg)})))}))}componentDidMount(){this.state.bLoadedVote||this.HandleRefreshMyVotingInformation()}componentDidUpdate(e){this.props.eventModel.GID!=e.eventModel.GID&&this.HandleRefreshMyVotingInformation()}static ConvertMyVoteRaw(e){let t;return!0===e?t="up":!1===e&&(t="down"),t}componentWillUnmount(){this.m_cancelSignal.cancel("EventDiscussionWidget is being unmounted")}OnVoteUp(){this.Vote("up")}OnVoteDown(){this.Vote("down")}Vote(e){const{eventModel:t}=this.props;le(t,N.a.Get())&&this.state.myVote!=e&&null!=e&&this.state.bLoadedVote&&this.setState({bVotingUp:"up"==e,bVotingDown:"down"==e},(()=>{N.a.Get().Vote(t,"up"===e,this.m_cancelSignal).catch((t=>{let r=Object(I.a)(t);console.error("EventDiscussionWidget.OnVote"+e+" "+r.strErrorMsg,r),this.setState({bVotingDown:!1,bVotingUp:!1})})),this.setState({myVote:e,bVotingDown:!1,bVotingUp:!1})}))}OnShareDialog(e){Object(m.d)(a.createElement(ue,{eventModel:this.props.eventModel,emoticonStore:this.props.emoticonStore,partnerEventStore:this.props.partnerEventStore}),Object(p.p)(e),{strTitle:Object(l.g)("#Button_Share")})}GotoDiscussion(e){Object(m.d)(a.createElement(b.g,{strDescription:Object(l.g)("#EventDisplay_Share_CommentMigrationInProcess")}),Object(p.p)(e))}OpenRepostDialogs(e){Object(m.d)(a.createElement(ae,{eventModel:this.props.eventModel}),Object(p.p)(e))}render(){const{eventModel:e}=this.props,t=Object(M.a)(e.nVotesUp-e.nVotesDown,0,Number.MAX_SAFE_INTEGER),r=e.GetForumTopicURL(),n=s.c.EREALM===Y.z.k_ESteamRealmChina,i=s.g.logged_in&&te.Get().BCanRepostPartnerEvent();return a.createElement(oe.a,{className:_.a.Container,"flow-children":"row",focusable:!1},a.createElement("div",{className:_.a.InnerContainer},a.createElement("div",{className:_.a.VoteContainer},a.createElement("div",{className:_.a.VoteCount},a.createElement(L.Cb,{className:_.a.VoteUpStaticIcon}),t.toLocaleString(l.f.GetPreferredLocales())),a.createElement(oe.a,{focusable:!0,className:Object(h.a)(u.a.Button,u.a.Icon,_.a.DiscussionButton,"up"==this.state.myVote?_.a.VoteButtonSelected:""),onActivate:this.OnVoteUp},a.createElement(L.Cb,{className:"up"==this.state.myVote?_.a.VoteUpSelectedIcon:_.a.VoteUpIcon}),a.createElement("span",{className:_.a.DiscussionButtonText},Object(l.g)("#Button_RateUp"))),a.createElement(oe.a,{focusable:!0,className:Object(h.a)(u.a.Button,u.a.Icon,_.a.DiscussionButton,"down"==this.state.myVote?_.a.VoteButtonSelected:""),onActivate:this.OnVoteDown},a.createElement(L.Cb,{className:"down"==this.state.myVote?_.a.VoteDownSelectedIcon:_.a.VoteDownIcon}))),!n&&a.createElement(de,{commentCount:e.nCommentCount,discussionURL:r,gotoDiscussion:this.GotoDiscussion}),i&&a.createElement("div",{className:_.a.VoteContainer},a.createElement(oe.a,{focusable:!0,className:Object(h.a)(u.a.Button,u.a.Icon,_.a.DiscussionButton,"down"==this.state.myVote?_.a.VoteButtonSelected:""),onActivate:this.OpenRepostDialogs},Object(l.g)("#EventRepost_Dialog_Title")))),a.createElement("div",{className:_.a.ShareContainer},!s.c.IN_GAMEPADUI&&a.createElement(oe.a,{focusable:!0,className:Object(h.a)(u.a.Button,u.a.Icon,_.a.DiscussionButton),onActivate:this.OnShareDialog},a.createElement(L.nb,{className:_.a.ShareIcon}),a.createElement("span",{className:_.a.DiscussionButtonText},Object(l.g)("#Button_Share")))))}};function de(e){const{commentCount:t,discussionURL:r,gotoDiscussion:n}=e;return a.createElement("div",{className:_.a.DiscussContainer},a.createElement("div",{className:_.a.DiscussionCount},a.createElement(L.m,null),t.toLocaleString(l.f.GetPreferredLocales())),r&&a.createElement(se.c,{href:Object($.f)(r)},a.createElement("div",{className:Object(h.a)(u.a.Button,u.a.Icon,_.a.DiscussionButton)},a.createElement(L.m,null),a.createElement("span",{className:_.a.DiscussionButtonText},Object(l.g)("#Button_Discuss")))),!r&&a.createElement(oe.a,{focusable:!0,onActivate:n,className:Object(h.a)(u.a.Button,u.a.Icon,_.a.DiscussionButton)},a.createElement(L.m,null),a.createElement("span",{className:_.a.DiscussionButtonText},Object(l.g)("#Button_Discuss"))))}Object(n.b)([c.b],ce.prototype,"OnVoteUp",null),Object(n.b)([c.b],ce.prototype,"OnVoteDown",null),Object(n.b)([c.b],ce.prototype,"OnShareDialog",null),Object(n.b)([c.b],ce.prototype,"GotoDiscussion",null),Object(n.b)([c.b],ce.prototype,"OpenRepostDialogs",null),ce=ie=Object(n.b)([o.a],ce);class ue extends a.Component{constructor(){super(...arguments),this.state={bShareOnSteamDialog:!1,bRequireLoginToShare:!1}}ShareOnSteamActivityFeed(){N.a.Get().BIsUserLoggedIn()?this.setState({bShareOnSteamDialog:!0}):s.c.IN_CLIENT?console.log("ShareEventOnSocialMediaDialog: In Client: Cannot use login widget. We expect to be already logged in."):this.setState({bRequireLoginToShare:!0})}render(){const{eventModel:e,closeModal:t,emoticonStore:r,partnerEventStore:n}=this.props;return this.state.bRequireLoginToShare?a.createElement(b.e,{strTitle:Object(l.g)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(l.g)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(l.g)("#MobileLogin_SignIn"),onCancel:this.props.closeModal,onOK:()=>Object(q.a)()}):this.state.bShareOnSteamDialog?a.createElement(j,{eventModel:e,emoticonStore:r,partnerEventStore:n,closeModal:t}):a.createElement(b.e,{strDescription:"",strTitle:Object(l.g)("#Button_Share"),onCancel:this.props.closeModal,onOK:this.props.closeModal,bAlertDialog:!0},a.createElement(me,{eventModel:e,fnShareOnSteamActivityFeed:this.ShareOnSteamActivityFeed}))}}Object(n.b)([c.b],ue.prototype,"ShareOnSteamActivityFeed",null);const me=e=>{const{eventModel:t}=e,r=s.c.EREALM===Y.z.k_ESteamRealmChina;return a.createElement("div",{className:Object(h.a)(u.a.FlexColumnContainer,_.a.share_controls_ctn)},!r&&a.createElement(a.Fragment,null,a.createElement("div",{className:u.a.FlexRowContainer,style:{flexWrap:"wrap"}},a.createElement(X.d,{toolTipContent:Object(l.g)("#EventDisplay_Share_OnSteam")},a.createElement("div",{onClick:e.fnShareOnSteamActivityFeed,className:Object(h.a)(u.a.Button,_.a.ShareBtn)},a.createElement("img",{className:_.a.SteamIcon,src:K.a}),a.createElement("span",{style:{whiteSpace:"nowrap"}},Object(l.g)("#EventDisplay_Share_OnMyStatus")))),a.createElement(X.d,{toolTipContent:Object(l.g)("#EventDisplay_Share_OnFaceBook")},a.createElement(J.c,{href:Object(A.g)(t,A.b.k_eFacebook),className:_.a.ShareBtn},a.createElement("img",{className:Object(h.a)(u.a.Button),src:G.a}))),a.createElement(X.d,{toolTipContent:Object(l.g)("#EventDisplay_Share_OnTwitter")},a.createElement(J.c,{href:Object(A.g)(t,A.b.k_eTwitter),className:_.a.ShareBtn},a.createElement("img",{className:Object(h.a)(u.a.Button),src:U.a}))),a.createElement(X.d,{toolTipContent:Object(l.g)("#EventDisplay_Share_OnReddit")},a.createElement(J.c,{href:Object(A.g)(t,A.b.k_eReddit),className:_.a.ShareBtn},a.createElement("img",{className:Object(h.a)(u.a.Button),src:x.a})))),a.createElement("div",{className:u.a.Divider})),a.createElement(pe,{eventModel:t}))},pe=e=>{const t=a.createRef();return a.createElement("div",{className:Object(h.a)(u.a.FlexRowContainer,_.a.linkField)},a.createElement("span",null,Object(l.g)(e.labelOverride?e.labelOverride:"#EventDisplay_Share_Link")),a.createElement("input",{className:_.a.LinkInput,ref:t,type:"text",value:Object(A.h)(e.eventModel),readOnly:!0}),document.queryCommandSupported("copy")&&a.createElement("div",{className:Object(h.a)(u.a.Button,u.a.Icon),onClick:e=>{t.current&&(t.current.select(),document.execCommand("copy"))},"data-tooltip-text":Object(l.g)("#ToolTip_CopyLinkToClipboard"),title:Object(l.g)("#ToolTip_CopyLinkToClipboard")},a.createElement("img",{className:_.a.ClipboardIcon,src:W.a})))}},ymPE:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return h}));var n=r("mrSG"),a=r("bsMV"),i=r("1S2c"),o=r("irMa"),s=r("IeuE"),l=r("0wDi"),c=(r("65aj"),r("Jqb/"),r("qiKp")),d=r("opsS");const u=-1;class m{constructor(){this.m_streamingAppid=null,this.m_launchStatus=Object(c.e)(),this.m_pairingDialog=null}Init(){SteamClient.Streaming.RegisterForStreamingShowIntro(this.StreamingShowIntro),SteamClient.Streaming.RegisterForStreamingShowLaunchOptions(this.StreamingShowLaunchOptions),SteamClient.Streaming.RegisterForStreamingShowEula(this.StreamingShowEula),SteamClient.Streaming.RegisterForStreamingLaunchComplete(this.StreamingLaunchComplete),SteamClient.Streaming.RegisterForStreamingClientFinished(this.StreamingClientFinished),SteamClient.Streaming.RegisterForStreamingClientStarted(this.StreamingClientStarted),SteamClient.Streaming.RegisterForStreamingClientLaunchProgress(this.StreamingLaunchProgress),SteamClient.RemotePlay.RegisterForRemoteDeviceAuthorizationRequested(this.OnRemoteDeviceAuthorizationRequested),SteamClient.RemotePlay.RegisterForRemoteDeviceAuthorizationCancelled(this.OnRemoteDeviceAuthorizationCancelled)}StreamingShowIntro(e,t){Object(a.d)(e,t)}StreamingShowLaunchOptions(e,t){Object(l.a)({appid:e,continue:e=>SteamClient.Streaming.StreamingSetLaunchOption(e),onCancel:()=>SteamClient.Streaming.CancelStreamGame()},t)}StreamingShowEula(e){const t=()=>SteamClient.Streaming.CancelStreamGame(),r=new i.a(e.toString(),(()=>SteamClient.Streaming.StreamingContinueStreamGame()),t,((e,t,r)=>SteamClient.Streaming.AcceptStreamingEULA(e,t,r)));r.Start(),Object(s.b)({appid:e,eulaWorkflow:r,onCancel:t})}StreamingLaunchComplete(e,t){console.log("launch result:",t,"code:",e),Object(a.e)(e,t),this.OnStreamingUIDone()}StreamingClientFinished(e,t){console.log("streaming result:",t,"code:",e),this.OnStreamingUIDone()}StreamingClientStarted(e){console.log("streaming client started for",e),this.m_streamingAppid=e,o.b.AddActiveLaunch(this.m_streamingAppid.toString(),u)}StreamingLaunchProgress(e,t,r,n){console.log("streaming client progress action:",e,"task:",t,"done:",r,"total:",n),this.m_launchStatus.Set({strTaskName:e,strTaskDetails:t,numDone:r,numTotal:n})}OnStreamingUIDone(){this.m_streamingAppid&&(o.b.RemoveActiveLaunch(this.m_streamingAppid.toString()),this.m_launchStatus.Set(null),this.m_streamingAppid=null)}OnRemoteDeviceAuthorizationRequested(e){return Object(n.a)(this,void 0,void 0,(function*(){this.m_pairingDialog=yield Object(a.b)(e)}))}OnRemoteDeviceAuthorizationCancelled(){null!=this.m_pairingDialog&&(this.m_pairingDialog.Close(),this.m_pairingDialog=null)}get launchStatus(){return this.m_launchStatus}SetControllerInputPaused(e){SteamClient.Streaming.SetStreamingClientControllerInputPaused(e)}}Object(n.b)([d.b],m.prototype,"StreamingShowIntro",null),Object(n.b)([d.b],m.prototype,"StreamingShowLaunchOptions",null),Object(n.b)([d.b],m.prototype,"StreamingShowEula",null),Object(n.b)([d.b],m.prototype,"StreamingLaunchComplete",null),Object(n.b)([d.b],m.prototype,"StreamingClientFinished",null),Object(n.b)([d.b],m.prototype,"StreamingClientStarted",null),Object(n.b)([d.b],m.prototype,"StreamingLaunchProgress",null),Object(n.b)([d.b],m.prototype,"OnRemoteDeviceAuthorizationRequested",null),Object(n.b)([d.b],m.prototype,"OnRemoteDeviceAuthorizationCancelled",null);const p=new m;function h(){return Object(d.u)(p.launchStatus)}},yq9q:function(e,t,r){e.exports={"duration-app-launch":"800ms",KeyboardKey:"controllerconfiguratorchoosebinding_KeyboardKey_NoRFS",SelectedBinding:"controllerconfiguratorchoosebinding_SelectedBinding_CX4Dp",LeftAlignedLabel:"controllerconfiguratorchoosebinding_LeftAlignedLabel_3c4ur",RightAlignedLabel:"controllerconfiguratorchoosebinding_RightAlignedLabel_24c1F",LocTextKey:"controllerconfiguratorchoosebinding_LocTextKey_3AeJr",TopRow:"controllerconfiguratorchoosebinding_TopRow_34ORY",HasSecondaryLabel:"controllerconfiguratorchoosebinding_HasSecondaryLabel_1Zh15",KeyboardRow:"controllerconfiguratorchoosebinding_KeyboardRow_o21px",NumpadRow:"controllerconfiguratorchoosebinding_NumpadRow_19qAl",RightColumn:"controllerconfiguratorchoosebinding_RightColumn_3qVQn",NumpadColumn:"controllerconfiguratorchoosebinding_NumpadColumn_30vT2",ThirdRowGap:"controllerconfiguratorchoosebinding_ThirdRowGap_1SphB",MainNumpadColumn:"controllerconfiguratorchoosebinding_MainNumpadColumn_2IX4x",RightNumpadColumn:"controllerconfiguratorchoosebinding_RightNumpadColumn_2hjKb",KeyboardContainer:"controllerconfiguratorchoosebinding_KeyboardContainer_3-Br0",NumpadPageContainer:"controllerconfiguratorchoosebinding_NumpadPageContainer_2lZkU",MousePageContainer:"controllerconfiguratorchoosebinding_MousePageContainer_3QMDW",ControllerActionPageContainer:"controllerconfiguratorchoosebinding_ControllerActionPageContainer_2PqVh",ChooseBindingContainer:"controllerconfiguratorchoosebinding_ChooseBindingContainer_1Kj9l",GamepadGridContainer:"controllerconfiguratorchoosebinding_GamepadGridContainer_1yked",GamepadKey:"controllerconfiguratorchoosebinding_GamepadKey_1llZa",CenterLeft:"controllerconfiguratorchoosebinding_CenterLeft_2_DhC",CenterRight:"controllerconfiguratorchoosebinding_CenterRight_39AZw",DiamondTopLeft:"controllerconfiguratorchoosebinding_DiamondTopLeft_3oezW",DiamondTopRight:"controllerconfiguratorchoosebinding_DiamondTopRight_C7TpC",DiamondBottomLeft:"controllerconfiguratorchoosebinding_DiamondBottomLeft_gdmyw",DiamondBottomRight:"controllerconfiguratorchoosebinding_DiamondBottomRight_KlhCw",DiamondCenterLeft:"controllerconfiguratorchoosebinding_DiamondCenterLeft_3NMPL",DiamondCenterRight:"controllerconfiguratorchoosebinding_DiamondCenterRight_19TUb",LeftStickClick:"controllerconfiguratorchoosebinding_LeftStickClick_1mnJH",RightStickClick:"controllerconfiguratorchoosebinding_RightStickClick_2sV9I",GamepadKeyRow:"controllerconfiguratorchoosebinding_GamepadKeyRow_1fXgG",GamepadKeyColumn:"controllerconfiguratorchoosebinding_GamepadKeyColumn_nLtZU",GamepadDiamondsContainer:"controllerconfiguratorchoosebinding_GamepadDiamondsContainer_1i6dE",GamepadDiamond:"controllerconfiguratorchoosebinding_GamepadDiamond_35ln1",ControllerActionKey:"controllerconfiguratorchoosebinding_ControllerActionKey_3yP_p",MouseKey:"controllerconfiguratorchoosebinding_MouseKey_19SMS",PushLeft:"controllerconfiguratorchoosebinding_PushLeft_1ynoe",PushLeftTwice:"controllerconfiguratorchoosebinding_PushLeftTwice_26sGa",MouseMovementContainer:"controllerconfiguratorchoosebinding_MouseMovementContainer_22Ew6",KeyboardKeyLabel:"controllerconfiguratorchoosebinding_KeyboardKeyLabel_eUq_I",Disabled:"controllerconfiguratorchoosebinding_Disabled_1QZJB",ControlsListSection:"controllerconfiguratorchoosebinding_ControlsListSection_-1scW",Title:"controllerconfiguratorchoosebinding_Title_1RLjK",ChooseBindingLabel:"controllerconfiguratorchoosebinding_ChooseBindingLabel_38ghy",GroupText:"controllerconfiguratorchoosebinding_GroupText_10Ifw",InputGlyph:"controllerconfiguratorchoosebinding_InputGlyph_3hB36",ControllerActionSetBindingsLabel:"controllerconfiguratorchoosebinding_ControllerActionSetBindingsLabel_WUnOa",HasActionSets:"controllerconfiguratorchoosebinding_HasActionSets_1vlZG",ColumnContainer:"controllerconfiguratorchoosebinding_ColumnContainer_3Vaj7",Column:"controllerconfiguratorchoosebinding_Column_2Pibl",Left:"controllerconfiguratorchoosebinding_Left_2Dd_6",Right:"controllerconfiguratorchoosebinding_Right_36JyP",BumperTriggerGroup:"controllerconfiguratorchoosebinding_BumperTriggerGroup_3cfUn",TriggerButton:"controllerconfiguratorchoosebinding_TriggerButton_2MjBd",BumperButton:"controllerconfiguratorchoosebinding_BumperButton_2swvc",SelectButton:"controllerconfiguratorchoosebinding_SelectButton_3i-XV",StartButton:"controllerconfiguratorchoosebinding_StartButton_3s28A",SelectStartGroup:"controllerconfiguratorchoosebinding_SelectStartGroup_1oGD1",GamepadUnspported:"controllerconfiguratorchoosebinding_GamepadUnspported_1sDi2",GamepadPreview:"controllerconfiguratorchoosebinding_GamepadPreview_GENH-",CardinalButtonGroup:"controllerconfiguratorchoosebinding_CardinalButtonGroup_3-2qP",Diamond:"controllerconfiguratorchoosebinding_Diamond_32vdo",Circle:"controllerconfiguratorchoosebinding_Circle_XDwww",CardinalButtonGroupButton:"controllerconfiguratorchoosebinding_CardinalButtonGroupButton_4nzjX",TopButton:"controllerconfiguratorchoosebinding_TopButton_2wUY2",BottomButton:"controllerconfiguratorchoosebinding_BottomButton_xGAal",LeftButton:"controllerconfiguratorchoosebinding_LeftButton_OQ03x",RightButton:"controllerconfiguratorchoosebinding_RightButton_QB9nM",CenterButton:"controllerconfiguratorchoosebinding_CenterButton_27ySl",InsetLeftGroup:"controllerconfiguratorchoosebinding_InsetLeftGroup_1nlA_",InsetRightGroup:"controllerconfiguratorchoosebinding_InsetRightGroup_6Jhpm",ForwardButtonGap:"controllerconfiguratorchoosebinding_ForwardButtonGap_1mrHV",MouseMovementBindingGap:"controllerconfiguratorchoosebinding_MouseMovementBindingGap_3yb2C",LeftMouseClickGap:"controllerconfiguratorchoosebinding_LeftMouseClickGap_2ngAZ",MouseCenterImage:"controllerconfiguratorchoosebinding_MouseCenterImage_2e9_G",KeyboardPageContainer:"controllerconfiguratorchoosebinding_KeyboardPageContainer_2rrbU","ItemFocusAnim-darkerGrey-nocolor":"controllerconfiguratorchoosebinding_ItemFocusAnim-darkerGrey-nocolor_26OSv","ItemFocusAnim-darkerGrey":"controllerconfiguratorchoosebinding_ItemFocusAnim-darkerGrey_2pdkn","ItemFocusAnim-darkGrey":"controllerconfiguratorchoosebinding_ItemFocusAnim-darkGrey_MWNcI","ItemFocusAnim-grey":"controllerconfiguratorchoosebinding_ItemFocusAnim-grey_AmrcQ","ItemFocusAnimBorder-darkGrey":"controllerconfiguratorchoosebinding_ItemFocusAnimBorder-darkGrey_ZO3VN","ItemFocusAnim-green":"controllerconfiguratorchoosebinding_ItemFocusAnim-green_24e3h",focusAnimation:"controllerconfiguratorchoosebinding_focusAnimation_Q_S4N",hoverAnimation:"controllerconfiguratorchoosebinding_hoverAnimation_RFw0w"}},"yra+":function(e,t,r){"use strict";r.d(t,"c",(function(){return n.a})),r.d(t,"e",(function(){return n.b})),r.d(t,"d",(function(){return a.b})),r.d(t,"a",(function(){return a.a})),r.d(t,"k",(function(){return a.d})),r.d(t,"j",(function(){return a.c})),r.d(t,"m",(function(){return a.e})),r.d(t,"n",(function(){return a.f})),r.d(t,"l",(function(){return l})),r.d(t,"i",(function(){return _})),r.d(t,"g",(function(){return b})),r.d(t,"f",(function(){return y})),r.d(t,"h",(function(){return C})),r.d(t,"b",(function(){return B}));var n=r("NNZQ"),a=r("n3Tv"),i=r("q1tI"),o=r.n(i),s=r("EC67");function l(e,t=!1){let r=Object(s.h)();return i.useCallback((()=>{(()=>{let a={url:e};t?r.replace(n.b.GamepadUI.SteamWeb(),a):r.push(n.b.GamepadUI.SteamWeb(),a)})()}),[r,e,t])}var c=r("mrSG"),d=r("LhCv"),u=r("55Ip"),m=r("Oefq"),p=r("bDQf"),h=r("D/Fy");const g=new p.a("Backstack"),_="router-backstack";function b(e){const{children:t,initialPath:r}=e,n=function(e){const t=function(){0;return Object(i.useRef)(void 0).current}(),r=Object(i.useRef)();if(!r.current)try{r.current=Object(d.d)(t||{initialEntries:[e]})}catch(t){console.error(t),r.current=Object(d.d)({initialEntries:[e]})}const n=r.current;return function(e){Object(i.useEffect)((()=>{let t=!0;const r={};SteamClient.Messaging.RegisterForMessages("PostToLibrary",((n,a,i)=>{if(a===_&&t){const t=function(e,t){let r=t;for(;r in e;){r=e[r]}return r}(r,i);let n;for(n=e.entries.length-1;n>=0&&e.entries[n].key!==t;n--);if(-1===n)return void console.error(`Could not find backstack entry "${i}" the client told us to navigate to.`);e.go(n-e.index)}}));let n="";const a=e.listen(((t,a)=>{switch(a){case"PUSH":SteamClient.Browser.OpenURLForNavigation("library",_,t.key);break;case"POP":break;case"REPLACE":r[n]=t.key;break;default:console.error(`Unhandled router action ${a}`)}n=t.key,function(e){var t;const r={initialEntries:e.entries.map(d.e),initialIndex:e.index};window.history.replaceState(Object.assign(Object.assign({},null!==(t=window.history.state)&&void 0!==t?t:{}),{memoryhistory:r}),"")}(e)}));return()=>{t=!1,a()}}),[e])}(n),n}(r);return o.a.createElement(s.d,{history:n},t,o.a.createElement(S,null),o.a.createElement(O,null))}function y(e){const{children:t,basename:r}=e;return o.a.createElement(u.a,{basename:r},t,o.a.createElement(S,null),o.a.createElement(O,null))}const f=Object(i.createContext)(!1);function v(e){const{children:t,routePath:r}=e,n=Object(i.useContext)(f);return o.a.useEffect((()=>{n?console.error(`Detected nested use of route tracking at "${r}". Ignoring double report.`):h.a.ReportRouteMatch(r)}),[r,n]),o.a.createElement(f.Provider,{value:!0},t)}function C(e){const{children:t}=e,r=Object(c.c)(e,["children"]);return o.a.createElement(s.c,Object.assign({},r),(e=>e.match?o.a.createElement(v,{routePath:e.match.path},t):null))}function S(){const e=Object(s.i)(),t=Object(s.h)();return Object(i.useEffect)((()=>{m.a.UpdateRoutingInfo(t,e)}),[t,e]),null}const w=Object(i.createContext)(null);function B(e){const{children:t,initialRoute:r}=e,n=Object(s.h)();return o.a.createElement(w.Provider,{value:n},o.a.createElement(s.a,{initialEntries:[r]},t))}function O(){const e=Object(s.h)();return Object(i.useEffect)((()=>e.listen(((e,t)=>{g.Debug(t,e)}))),[e]),null}},yrgw:function(e,t,r){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px","duration-app-launch":"800ms",GameCarouselItemWidth:"200px",GameCarouselItemHeight:"94px",GameCarouselItemMargin:"16px",DefaultActivityPadding:"12px",AppActivityDay:"appactivityday_AppActivityDay_S2Fu9",AppActivityDate:"appactivityday_AppActivityDate_19LfM",Event:"appactivityday_Event_UVeN0",NoCommentSupport:"appactivityday_NoCommentSupport_2CB_R",EventBodyDivider:"appactivityday_EventBodyDivider_NaIUA",EventBody:"appactivityday_EventBody_NEMXh",UserStatus:"appactivityday_UserStatus_Yo3XX",EventHeadline:"appactivityday_EventHeadline_QCKBq",EventActorAvatar:"appactivityday_EventActorAvatar_1gVy5",SpanEvent:"appactivityday_SpanEvent_3Nxqy",HeadlineGameName:"appactivityday_HeadlineGameName_Gy1Y7",ActorName:"appactivityday_ActorName_1t1iy",DeleteButton:"appactivityday_DeleteButton_djC4r",DeleteUserNews:"appactivityday_DeleteUserNews_1Ur_j",ScreenshotUploaded:"appactivityday_ScreenshotUploaded_zmx3d",VideoUploaded:"appactivityday_VideoUploaded_PCZSj",ReceivedNewGame:"appactivityday_ReceivedNewGame_35ZQ6",PlayedGameFirstTime:"appactivityday_PlayedGameFirstTime_3fdEo",AddedGameToWishlist:"appactivityday_AddedGameToWishlist_x6i4r",RecommendedGame:"appactivityday_RecommendedGame_1i3Jy",ActivityPublishedStatus:"appactivityday_ActivityPublishedStatus_3ygGw",StatusTime:"appactivityday_StatusTime_RYyD5",AchievementHeader:"appactivityday_AchievementHeader_mOVI2",ActivityAchievementUnlocked:"appactivityday_ActivityAchievementUnlocked_yJLy7",PrimaryAchievement:"appactivityday_PrimaryAchievement_26Qli",ShowMore:"appactivityday_ShowMore_7Wt2o",ShowMoreLabel:"appactivityday_ShowMoreLabel_2RUcF",TwoAchievementRow:"appactivityday_TwoAchievementRow_2pdPx",OneAchievementRow:"appactivityday_OneAchievementRow_3Xupb",AchievementRemainder:"appactivityday_AchievementRemainder_SfyYv",ActivityPublishedScreenshot:"appactivityday_ActivityPublishedScreenshot_KIhNe",ImageWrapper:"appactivityday_ImageWrapper_rRIYi",SpoilerOverlay:"appactivityday_SpoilerOverlay_1oYvb",ActiveScreenshot:"appactivityday_ActiveScreenshot_290Dq",ScreenshotCarousel:"appactivityday_ScreenshotCarousel_1pdQd",TimeStamp:"appactivityday_TimeStamp_3ljAd",ScreenshotCaption:"appactivityday_ScreenshotCaption_23HTp",CarouselThumbs:"appactivityday_CarouselThumbs_1tRKR",CarouselThumb:"appactivityday_CarouselThumb_1Lot-",Active:"appactivityday_Active_n98dr",ScreenshotModalBackground:"appactivityday_ScreenshotModalBackground_yGf3w",HasCaption:"appactivityday_HasCaption_tLc3y",VideoTitle:"appactivityday_VideoTitle_1d0ij",CaptionQuoteContainer:"appactivityday_CaptionQuoteContainer_1iGSG",CaptionQuote:"appactivityday_CaptionQuote_IYDCY",VideoCarousel:"appactivityday_VideoCarousel_dUAJi",ActiveVideo:"appactivityday_ActiveVideo_19rn-",VideoPreview:"appactivityday_VideoPreview_1Zn0s",VideoPreviewPlayLogo:"appactivityday_VideoPreviewPlayLogo_knYdq",PartnerEventPlaceholder:"appactivityday_PartnerEventPlaceholder_23WVg",PartnerEventLargeImage_Container:"appactivityday_PartnerEventLargeImage_Container_Libri",PartnerEventLargeImage_Title:"appactivityday_PartnerEventLargeImage_Title_3fsjz",PartnerEventLargeImage_Contents:"appactivityday_PartnerEventLargeImage_Contents_2tDv0",ImageContainer:"appactivityday_ImageContainer_1XpBI",PartnerEventLargeImage_Image:"appactivityday_PartnerEventLargeImage_Image_fGDsm",Blur:"appactivityday_Blur_3cX_v",PartnerEventLargeImage_Summary:"appactivityday_PartnerEventLargeImage_Summary_3zwBR",PartnerEventLargeImage_TextColumn:"appactivityday_PartnerEventLargeImage_TextColumn_2HzKE",PartnerEventMediumImage:"appactivityday_PartnerEventMediumImage_By7D9",PartnerEventMediumImage_Container:"appactivityday_PartnerEventMediumImage_Container_1HZy7",PartnerEventMediumImage_Title:"appactivityday_PartnerEventMediumImage_Title_1gljE",PartnerEventMediumImage_Contents:"appactivityday_PartnerEventMediumImage_Contents_2gv3E",PartnerEventType:"appactivityday_PartnerEventType_1ujzu",PartnerEventSmallImage_Image:"appactivityday_PartnerEventSmallImage_Image_kEp14",MediumImageContainer:"appactivityday_MediumImageContainer_ddB5G",PartnerEventMediumImage_Image:"appactivityday_PartnerEventMediumImage_Image_VytJz",PartnerEventMediumImage_Summary:"appactivityday_PartnerEventMediumImage_Summary_Ru7OB",PartnerEventMediumImage_TextColumn:"appactivityday_PartnerEventMediumImage_TextColumn_3dJ4B",PartnerEvent:"appactivityday_PartnerEvent_1AYE1",PartnerEventUpdate:"appactivityday_PartnerEventUpdate_fmLfu",PartnerEventLargeUpdate:"appactivityday_PartnerEventLargeUpdate_39Zk3",PartnerEventTextOnly:"appactivityday_PartnerEventTextOnly_3QRf-",PartnerEventTextOnly_Title:"appactivityday_PartnerEventTextOnly_Title_1Cva_",PartnerEventSmallImageAndTextOnly_Container:"appactivityday_PartnerEventSmallImageAndTextOnly_Container_1cTQl",PartnerEventSmallImageAndTextOnly_TextColumn:"appactivityday_PartnerEventSmallImageAndTextOnly_TextColumn_3FBkU",PartnerEventTextOnly_Container:"appactivityday_PartnerEventTextOnly_Container_1wJJQ",PartnerEventTextOnly_Icon:"appactivityday_PartnerEventTextOnly_Icon_1-llQ",PartnerEventTextOnly_TextColumn:"appactivityday_PartnerEventTextOnly_TextColumn_FZghx",PartnerEventTextOnly_LimitedSummary:"appactivityday_PartnerEventTextOnly_LimitedSummary_2OrhE",PartnerEventTextOnly_Time:"appactivityday_PartnerEventTextOnly_Time_ZzN4S",PartnerEventTextOnly_Summary:"appactivityday_PartnerEventTextOnly_Summary_3ZUP3",PartnerEventTextOnly_SubTitle:"appactivityday_PartnerEventTextOnly_SubTitle_1WX1k",PartnerEventTypeUpdate:"appactivityday_PartnerEventTypeUpdate_29bW1",ActivityRecommendedGame:"appactivityday_ActivityRecommendedGame_1-t-G",RecommendationText:"appactivityday_RecommendationText_M0CWY",ReadMoreLink:"appactivityday_ReadMoreLink_3PXtj",GameIcon:"appactivityday_GameIcon_2B8T_",ReviewIcon:"appactivityday_ReviewIcon_gWDyh",ReviewIconThumbsUp:"appactivityday_ReviewIconThumbsUp_2oPMu",ReviewIconThumbsDownBox:"appactivityday_ReviewIconThumbsDownBox_1VDAe",ReviewIconThumbsUpColor:"appactivityday_ReviewIconThumbsUpColor_3AXaY",ReviewIconThumbsDownColor:"appactivityday_ReviewIconThumbsDownColor_1vUp7",ReviewIconVoteColor:"appactivityday_ReviewIconVoteColor_1yQFT",ThumbsDown:"appactivityday_ThumbsDown_3oboj",ThumbsUp:"appactivityday_ThumbsUp_7pd3L",CommentsGroup:"appactivityday_CommentsGroup_1-KuQ",CommentsContainer:"appactivityday_CommentsContainer_3uiPs",CommentsLabel:"appactivityday_CommentsLabel_3t5Nr",CommentCount:"appactivityday_CommentCount_1VRbH",UpVotesIcon:"appactivityday_UpVotesIcon_1yGY_",CommentIcon:"appactivityday_CommentIcon_2Xa07",ReviewText:"appactivityday_ReviewText_3ZTUR",ReviewTextContainer:"appactivityday_ReviewTextContainer_3Jcr-",ReviewDescription:"appactivityday_ReviewDescription_2txLP",PlayedForTime:"appactivityday_PlayedForTime_2r-N9",ReviewMetadata:"appactivityday_ReviewMetadata_2ByGW",WishlistLink:"appactivityday_WishlistLink_3698j",ReviewDescriptionRecommended:"appactivityday_ReviewDescriptionRecommended_1zQfK",TradingCardSection:"appactivityday_TradingCardSection_2IS7Z",TradingCard:"appactivityday_TradingCard_2uUyK",BoosterPack:"appactivityday_BoosterPack_38INR",BadgeSection:"appactivityday_BadgeSection_3G7i5",Badge:"appactivityday_Badge_1zopS",EmptyCircle:"appactivityday_EmptyCircle_3e5oo",BadgeInfo:"appactivityday_BadgeInfo_36fG0",BadgeName:"appactivityday_BadgeName_rmU5g",BadgeLevel:"appactivityday_BadgeLevel_1p820",GameCarouselWrapper:"appactivityday_GameCarouselWrapper_3jFOA",GameCarousel:"appactivityday_GameCarousel_hKjQX",GameCarouselItemHeader:"appactivityday_GameCarouselItemHeader_1cr9s",StoreGameCapsule:"appactivityday_StoreGameCapsule_1OYOt",HeaderImageWrapper:"appactivityday_HeaderImageWrapper_1gR1-",HeaderImage:"appactivityday_HeaderImage_2SzPl",VisibilityLabel:"appactivityday_VisibilityLabel_2iCoI"}},"z/wO":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("TLQK");function a(e,t="#Played_"){if(e>=120){let r=e/60;r=Math.floor(10*r)/10;let a=n.f.GetPreferredLocales(),i=r.toLocaleString(a,{minimumFractionDigits:0,maximumFractionDigits:1});return Object(n.g)(t+"Hours",i)}return Object(n.g)(t+"Minutes",e)}},z5gf:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("mrSG"),a=(r("65aj"),r("vDqi")),i=r.n(a);const o=new class{AxiosWrapper(e,t,r){return Object(n.a)(this,void 0,void 0,(function*(){let n,a=e=>{"steam_auth_completed"==e.data&&n&&n(!0)};window.addEventListener("message",a);try{for(;;){let a=yield e();if(16==a.data.eresult&&r.retrycount>0)console.log("Ajax request got timeout, retry count",r.retrycount),r.retrycount=r.retrycount-1,r.retrydelayMS&&(yield new Promise((e=>setTimeout(e,r.retrydelayMS))));else{if(!a.headers["x-notloggedin"])return a.data;{console.log(t,"Ajax request not logged in, waiting for auth");let e=new Promise(((e,t)=>{n=e})),i=new Promise(((e,t)=>{window.setTimeout((()=>e(!1)),r.retrydelayMS?r.retrydelayMS:1e3)}));if(!(yield Promise.race([e,i])))return console.error(t,"Auth timed out"),a.data;console.log(t,"Auth complete, retrying")}}}}finally{window.removeEventListener("message",a)}}))}get(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const{retrycount:r,retrydelayMS:a,withCredentials:o}=t,s=Object(n.c)(t,["retrycount","retrydelayMS","withCredentials"]);return this.AxiosWrapper((()=>i.a.get(e,Object.assign({withCredentials:!0},s))),e,t)}))}post(e,t,r){return Object(n.a)(this,void 0,void 0,(function*(){const{retrycount:a,retrydelayMS:o,withCredentials:s}=r,l=Object(n.c)(r,["retrycount","retrydelayMS","withCredentials"]);return this.AxiosWrapper((()=>i.a.post(e,t,Object.assign({withCredentials:!0},l))),e,r)}))}};window.steamAjaxRequest=o},z62z:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return v}));var n=r("q1tI"),a=r("1xLf"),i=r("TyAF"),o=r("stYH"),s=r.n(o),l=r("IyDq"),c=r("w9XT"),d=r("TLQK"),u=r("exH9"),m=r("7Z/o"),p=r("L17E"),h=r("rHSA"),g=(r("BaVA"),r("qDk6")),_=(r("NxAk"),r("d1jy")),b=r("whYJ");const y=Object(i.a)((function(e){var t,r,i,o;const p=l.a.EditingConfiguration,h=null!==(t=l.a.ControllerConfiguratorBaseSetIndex)&&void 0!==t?t:0,g=l.a.ControllerConfiguratorLayerSetIndex,_=null==p?void 0:p.sets[h],y=null===(r=null==_?void 0:_.layers)||void 0===r?void 0:r[g];return!0===e.bShowWhenOneActionSet||Object(b.c)(p)?n.createElement("div",{className:Object(u.a)(e.className,s.a.ActionSetNameOverIndicators,e.disabled&&s.a.ActionSetSelectorDisabled)},n.createElement("div",{className:s.a.ActionSetNameAndGlyphs},n.createElement("div",{className:s.a.ActionSetGlyph,onClick:e.disabled?null:()=>l.a.GoToRelativeEditingConfigurationActionSetInFlattenedList(-1)},n.createElement(m.b,{button:c.b.LeftBumper})),n.createElement("div",{className:s.a.ActionSetNameAndHeader},n.createElement("span",{className:s.a.ActionSetHeader},Object(d.g)("#ControllerConfigurator_ActionSet")),n.createElement("span",{className:Object(u.a)(s.a.ActionSetName,y&&s.a.SetDisabled)},null!==(i=null==_?void 0:_.display_name)&&void 0!==i?i:Object(d.g)("#ControllerConfigurator_ActionSets_UnnamedSet_Title")),y&&n.createElement("div",{className:s.a.ActionSetLayer},n.createElement(a.hb,null),null!==(o=null==y?void 0:y.display_name)&&void 0!==o?o:Object(d.g)("#ControllerConfigurator_ActionSets_UnnamedSet_Title"))),n.createElement("div",{className:s.a.ActionSetGlyph,onClick:e.disabled?null:()=>l.a.GoToRelativeEditingConfigurationActionSetInFlattenedList(1)},n.createElement(m.b,{button:c.b.RightBumper})))):null})),f=Object(i.a)((function(e){var t;const r=l.a.EditingConfiguration,i=null!==(t=l.a.ControllerConfiguratorBaseSetIndex)&&void 0!==t?t:0,o=l.a.ControllerConfiguratorLayerSetIndex,c=l.a.GetFlattenedActionSets().map((e=>({id:JSON.stringify([e.nActionSetIndex,e.nLayerIndex]),title:e.strName,icon:null==e.nLayerIndex?null:n.createElement(a.hb,null)}))),d=n.useRef(),[m,h]=n.useState(!1),_=n.useCallback((e=>!!m&&v(e)),[m]),y=n.useRef([i,o]);n.useEffect((()=>{var e;y.current[0]==i&&y.current[1]==o||(m&&(null===(e=d.current)||void 0===e||e.TakeFocus()),y.current=[i,o])}),[m,d,i,o]);const f=n.useCallback((e=>{const[t,r]=JSON.parse(e);l.a.SetControllerConfiguratorBaseSetIndex(t),l.a.SetControllerConfiguratorLayerSetIndex(r)}),[]);return!0===e.bShowWhenOneActionSet||Object(b.c)(r)?n.createElement(g.a,{className:Object(u.a)(e.className,s.a.ControllerSelectionContainer),onFocusWithin:h,onButtonDown:_},n.createElement(p.e,{tabs:c,activeTab:JSON.stringify([i,o]),onShowTab:f,showGlyphs:m||e.showGlyphs,bleedGlyphs:e.bleedGlpyhs,navRef:d,wrapAround:e.wrapAround})):null}));function v(e){let t;if(e.detail.button==h.a.BUMPER_LEFT)t=-1;else{if(e.detail.button!=h.a.BUMPER_RIGHT)return!1;t=1}const r=l.a.GoToRelativeEditingConfigurationActionSetInFlattenedList(t);return _.a.PlayNavSound(r?_.b.ChangeTabs:_.b.FailedNav),e.stopPropagation(),!0}},z7tf:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r("q1tI"),a=r.n(n),i=(r("Mgs7"),r("gQFo"));const o=Object(i.a)("DialogPresentationContext",(()=>a.a.createContext({}))),s=()=>a.a.useContext(o)},zBSo:function(e,t,r){e.exports={PagedSettingsDialog:"pagedsettings_PagedSettingsDialog_2sssI",PagedSettingsDialog_PageContent:"pagedsettings_PagedSettingsDialog_PageContent_CFTLX",PagedSettingsDialog_PageListColumn:"pagedsettings_PagedSettingsDialog_PageListColumn_2kwFF",PagedSettingsDialog_Title:"pagedsettings_PagedSettingsDialog_Title_2rjVT",PagedSettingsDialog_PageList:"pagedsettings_PagedSettingsDialog_PageList_18QCu",PagedSettingsDialog_PageListItem:"pagedsettings_PagedSettingsDialog_PageListItem_1-vlr",DisabledItem:"pagedsettings_DisabledItem_oUzYn",Active:"pagedsettings_Active_2DpXj"}},zF38:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("mrSG"),a=r("XxJJ"),i=r("rHSA");class o extends i.c{constructor(e){super(),this.m_nAccumulatedMouseMovement=0,this.m_bFirstMouseUpdate=!0,this.SetSourceType(i.b.MOUSE),e.addEventListener("mousedown",this.OnMouseDown),e.addEventListener("mousemove",this.OnMouseMove),e.addEventListener("blur",this.Reset)}OnMouseDown(e){e.defaultPrevented||this.OnNavigationTypeChanged(i.b.MOUSE)}OnMouseMove(e){if(!e.defaultPrevented){if(this.m_bFirstMouseUpdate)return this.m_nLastScreenX=e.screenX,this.m_nLastScreenY=e.screenY,void(this.m_bFirstMouseUpdate=!1);this.m_nAccumulatedMouseMovement+=Math.abs(e.screenX-this.m_nLastScreenX)+Math.abs(e.screenY-this.m_nLastScreenY),this.m_nAccumulatedMouseMovement>500&&(this.Reset(),this.OnNavigationTypeChanged(i.b.MOUSE))}}Reset(){this.m_nAccumulatedMouseMovement=0,this.m_bFirstMouseUpdate=!0}}Object(n.b)([a.a],o.prototype,"OnMouseDown",null),Object(n.b)([a.a],o.prototype,"OnMouseMove",null),Object(n.b)([a.a],o.prototype,"Reset",null)},zThF:function(e,t,r){e.exports={"duration-app-launch":"800ms",TabbedPageContainer:"controllerconfiguratorchooseconfiguration_TabbedPageContainer_1E6nP",PageContainer:"controllerconfiguratorchooseconfiguration_PageContainer_1Z4eN",OuterColumn:"controllerconfiguratorchooseconfiguration_OuterColumn_1Udh1",ConfigurationButton:"controllerconfiguratorchooseconfiguration_ConfigurationButton_2luCN",Recommended:"controllerconfiguratorchooseconfiguration_Recommended_2v9eL",Selected:"controllerconfiguratorchooseconfiguration_Selected_Gp6XG",ConfigTitleRow:"controllerconfiguratorchooseconfiguration_ConfigTitleRow_3evQa",IconContainer:"controllerconfiguratorchooseconfiguration_IconContainer_2kPo6",TextRows:"controllerconfiguratorchooseconfiguration_TextRows_OzYkd",TextRow:"controllerconfiguratorchooseconfiguration_TextRow_T3fXp",Stretch:"controllerconfiguratorchooseconfiguration_Stretch_3KQJ7",Author:"controllerconfiguratorchooseconfiguration_Author_1dzOH",InfoSection:"controllerconfiguratorchooseconfiguration_InfoSection_25G91",Title:"controllerconfiguratorchooseconfiguration_Title_EI1IQ",Description:"controllerconfiguratorchooseconfiguration_Description_3XAvq",ReviewIconThumbsUpColor:"controllerconfiguratorchooseconfiguration_ReviewIconThumbsUpColor_16AAl",SteamInputAPILogoContainer:"controllerconfiguratorchooseconfiguration_SteamInputAPILogoContainer_1gbYT",SteamInputAPILogo:"controllerconfiguratorchooseconfiguration_SteamInputAPILogo_3sDt5",SteamInputAPILogoText:"controllerconfiguratorchooseconfiguration_SteamInputAPILogoText_3rgcy","ItemFocusAnim-darkerGrey-nocolor":"controllerconfiguratorchooseconfiguration_ItemFocusAnim-darkerGrey-nocolor_-A6lV","ItemFocusAnim-darkerGrey":"controllerconfiguratorchooseconfiguration_ItemFocusAnim-darkerGrey_qCQDn","ItemFocusAnim-darkGrey":"controllerconfiguratorchooseconfiguration_ItemFocusAnim-darkGrey_2MjaV","ItemFocusAnim-grey":"controllerconfiguratorchooseconfiguration_ItemFocusAnim-grey_omfFn","ItemFocusAnimBorder-darkGrey":"controllerconfiguratorchooseconfiguration_ItemFocusAnimBorder-darkGrey_NZJpi","ItemFocusAnim-green":"controllerconfiguratorchooseconfiguration_ItemFocusAnim-green_1KMZn",focusAnimation:"controllerconfiguratorchooseconfiguration_focusAnimation_1wehH",hoverAnimation:"controllerconfiguratorchooseconfiguration_hoverAnimation_3lmQy"}},zZkr:function(e){e.exports=JSON.parse('{"store.steampowered.com":1,"steamtv":2200,"steamclient":5000,"library":5100,"friendsui":5200,"friendcontextmenu":5201,"topsellers":7000,"salecreatorhome":100700,"saleitembrowse":100701,"salefacetbrowse":100702,"salesection":100703,"saletabsection":100704,"salebroadcast":100705,"salecuratorrec":100706,"saleeventsched":100707,"salesubscription":100708,"saleitemsearch":100709,"salesmartwishlist":100710,"salesmartir":100711,"salesmartdlc":100712,"salesmarttagrec":100713,"salebrowsetopwishlisted":100714,"salebrowsetrendingwishlisted":100715,"salebrowsepopularcomingsoon":100716,"salebrowsemostplayeddemo":100717,"salebrowsedailyactiveuserdemo":100718,"salebrowseplayednowdemo":100719,"salebrowserecentlyreleased":100720,"salebrowsepopularpurchased":100721,"salebrowsepopularpurchaseddiscounted":100722,"salebrowsediscounted":100723,"salebrowseprice":100724}')},zdZa:function(e,t){e.exports="/sounds/deck_ui_slider_up.wav"},"zjj+":function(e,t,r){"use strict";r.d(t,"c",(function(){return f})),r.d(t,"b",(function(){return C})),r.d(t,"a",(function(){return S}));var n=r("q1tI"),a=r.n(n),i=r("pQ8y"),o=r("65aj"),s=(r("Xhj9"),r("sRB7"),r("gOcu")),l=(r("g4bM"),r("35zc")),c=r("b3LC"),d=r("HKTa"),u=r("g8lE"),m=r("PHKo"),p=r("5L1o"),h=r("NKJh"),g=r.n(h),_=r("VbCH"),b=r("exH9"),y=r("TLQK");function f(e){const{info:t,bShowDemoButton:r,bShowPurchaseOptionsButton:i,fnOnPurchaseOptionsClick:p,bHidePrice:h,bHideWishlistButton:b,bShowDeckCompatibilityDialog:y}=e,f=Object(n.useRef)({include_release:!0}),[C]=Object(c.a)(t.id,Object(l.d)(t.type),f.current),w=Object(o.g)(t.type),[B,O]=a.a.useState(r&&w&&s.a.Get().BHasDemoAppID(t.id));return a.a.useEffect((()=>{r&&w&&s.a.Get().LoadAppIDsBatch([t.id]).then((()=>O(s.a.Get().BHasDemoAppID(t.id))))}),[r,w,t.id]),C?a.a.createElement("div",{className:g.a.StoreActionWidgetContainer},a.a.createElement("div",{className:g.a.StoreSalePriceActionWidgetContainer},Boolean(!b&&Object(o.g)(t.type))&&a.a.createElement(_.a,{appid:t.id,bIsFree:C.BIsFree(),bIsComingSoon:C.BIsComingSoon(),className:"WishlistBtn"}),Boolean(B)&&a.a.createElement(m.a,{info:t,className:g.a.Action}),Boolean(!h)&&(Boolean(i)?a.a.createElement(v,{fnOnPurchaseOptionsClick:p}):a.a.createElement(u.a,{info:t,className:"CartBtn"})),Boolean(!h)&&a.a.createElement(S,{info:t}),Boolean(y)&&a.a.createElement(d.b,{nAppID:t.id}))):null}const v=e=>a.a.createElement("div",{className:g.a.Action,onClick:e.fnOnPurchaseOptionsClick},a.a.createElement("span",null,Object(y.g)("#EventDisplay_CallToAction_ShowPurchaseOptions_Button")));function C(e){const{storeItem:t,bPurchaseOptionsExpanded:r,fnCollapseOptions:n}=e,o=null==t?void 0:t.GetAllPurchaseOptions();return a.a.createElement(i.a,{in:r,mountOnEnter:!0,unmountOnExit:!0,timeout:2e3,classNames:{enterActive:g.a.Expanding,enterDone:g.a.Expanded,exit:g.a.Expanded,exitActive:g.a.Collapsing}},a.a.createElement("div",{className:g.a.BundleContentsCtnTransition},a.a.createElement("div",{className:g.a.BundleContentsCtn},null==o?void 0:o.map((e=>a.a.createElement("div",{key:"purchaseitem_"+(null==t?void 0:t.GetID())+"_"+e.packageid,className:g.a.BundleContentItem},a.a.createElement(p.j,{id:e.packageid,type:"sub",bForceSmallCapsuleArt:!0}))))),a.a.createElement("div",{onClick:n,className:g.a.BundleShowButton},a.a.createElement("button",{className:g.a.ShowContentsButton},Object(y.g)("#Button_Close")))))}function S(e){var t,r;const{info:i}=e,o=Object(n.useRef)({include_release:!0}),[s]=Object(c.a)(null==i?void 0:i.id,Object(l.d)(null==i?void 0:i.type),o.current);if(!s)return null;const d=2==s.GetStoreItemType()&&(null===(t=s.GetBestPurchaseOption())||void 0===t?void 0:t.bundle_discount_pct);if(e.bShowInLibrary)return a.a.createElement("div",{className:g.a.StoreSalePriceWidgetContainer},a.a.createElement("div",{className:g.a.StoreSalePriceBox},Object(y.g)("#EventDisplay_CallToAction_InLibrary")));if(s.BIsComingSoon()&&!(null===(r=s.GetBestPurchaseOption())||void 0===r?void 0:r.packageid))return a.a.createElement("div",{className:g.a.StoreSalePriceWidgetContainer},a.a.createElement("div",{className:g.a.StoreSalePriceBox},Object(y.g)("#EventDisplay_CallToAction_ComingSoon")));if(s.BIsFree())return 0==s.GetStoreItemType()&&4!=s.GetAppType()&&11!=s.GetAppType()&&s.GetParentAppID()?a.a.createElement("div",{className:g.a.StoreSalePriceWidgetContainer},a.a.createElement("div",{className:g.a.StoreSalePriceBox},Object(y.g)("#EventDisplay_CallToAction_FreeDemo"))):a.a.createElement("div",{className:g.a.StoreSalePriceWidgetContainer},a.a.createElement("div",{className:g.a.StoreSalePriceBox},Object(y.g)("#EventDisplay_CallToAction_FreeToPlay")));if(!s.GetBestPurchasePriceFormatted()||!s.GetBestPurchaseOption())return null;const u=s.GetBestPurchaseOption().discount_pct||d,m=u&&d&&u>d&&d,p=s.GetBestPurchaseOption().packageid;return a.a.createElement("div",{className:Object(b.a)(g.a.StoreSalePriceWidgetContainer,u&&g.a.Discounted)},Boolean(s.BIsComingSoon()&&!!p)&&a.a.createElement("div",{className:Object(b.a)(g.a.StoreSalePriceBox,g.a.StoreSalePrepurchaseLabel)},Object(y.g)("#EventDisplay_CallToAction_Prepurchase_Short")),Boolean(m)&&a.a.createElement("span",{className:Object(b.a)(g.a.BaseDiscount)},`-${m}%`),Boolean(u)&&a.a.createElement("div",{className:g.a.StoreSaleDiscountBox},`-${u}%`),u&&s.GetBestPurchaseOriginalPriceFormatted()?a.a.createElement("div",{className:g.a.StoreSaleDiscountedPriceCtn},a.a.createElement("div",{className:g.a.StoreOriginalPrice},s.GetBestPurchaseOriginalPriceFormatted()),a.a.createElement("div",{className:g.a.StoreSalePriceBox},s.GetBestPurchasePriceFormatted())):a.a.createElement("div",{className:g.a.StoreSalePriceBox},s.GetBestPurchasePriceFormatted()))}}}]);
//# sourceMappingURL=libraryroot~sp.js.map                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       